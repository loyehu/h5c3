<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/jquery-3.2.1.js"></script>
		<script type="text/javascript" src="js/jquery.mousewheel.js" ></script>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
			}
			html,body{
				height: 100%;
				overflow: hidden;
				/*background: purple;*/
			}
			.container{
				width: 100%;
				height: 100%;
				position: absolute;
			}
			.page{
				width: 100%;
				height: 100%;
				/*position: absolute;*/
			}
			.no1{
				background: plum;
			}
			.no2{
				background: skyblue;
			}
			.no3{
				background: orchid;
			}
			.no4{
				background: deepskyblue ;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="page no1"></div>
			<div class="page no2"></div>
			<div class="page no3"></div>
			<div class="page no4"></div>
		</div>
		<script type="text/javascript">
			
			
			var $container = $(".container");
			
			// 信号量
			var idx = 0;
			
			// 定义一个锁，先打开锁
			var lock = true;	
			
			$(document).mousewheel(function(event,delta){

				// 函数节流
				if( !lock ) return;
				
				// 阻止默认行为
				event.preventDefault();
				
				idx -= delta;
				
				if(idx > 3) idx = 3;
				if(idx < 0) idx = 0;
				
				console.log(idx);
				
				// 将锁子锁住
				lock = false;
				
				// 执行动画
				$container.animate({"top": -100 * idx + "%"},1000,function(){
					// 执行结束之后，开锁
					lock = true;
				});
				
				
				
			});
			
			
			
		</script>
	</body>
</html>
