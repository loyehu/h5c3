<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			div{
				width: 79px;
				height: 108px;
				background: url(../img/girl.png) no-repeat;
				background-position: 0px -540px;
				position: absolute;
				top: 100px;
				left: 0;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">
				
			function Girl(left,top,speed){
				
				this.dom = null;	// div小女孩DOM
				this.left = left;	// left  位置
				this.top = top;		// top 位置
				this.timer = null;	// 定时器
				this.speed = speed;		// 定时器执行速度
				this.step = 0;	 // 小女孩步子
				
				// 调用初始化函数
				this.init();
				
				// 调用行走函数
				this.run();
			}
			
			Girl.prototype.init = function(){
				this.dom = document.createElement("div");
				
				document.body.appendChild(this.dom);
				
				this.dom.style.left = this.left + "px";
				this.dom.style.top = this.top + "px";
			}
			
			Girl.prototype.run = function(){
				var self = this;
				this.timer = setInterval(function(){
					
					self.left += 3;
					self.step ++;
					
					if(self.step > 7){
						self.step = 0;
					}
					
					if(self.left > 1200){
						self.die();
					}
//					console.log(self.left);
					self.dom.style.left = self.left + "px";
					self.dom.style.backgroundPosition = self.step * -79 + "px -540px";
					
				},this.speed);
				
				
			}
			
			Girl.prototype.die = function(){
				document.body.removeChild(this.dom);
				clearInterval(this.timer);
			}
			new Girl(Math.random() * 400,Math.random() * 600,Math.random() * 300);
			var count = 0;
			var timer = setInterval(function(){
				new Girl(Math.random() * 400,Math.random() * 600,Math.random() * 300);
				count++;
				if(count > 6){
					clearInterval(timer);
				}
			},2000);
			
		</script>
	</body>
</html>
